{% load cms_tags %}
{% load sekizai_tags %}
{% load static %}

{% addtoblock "js" %}
    <script>
        $("document").ready(function () {
            $(".feature-visual").vegas({
                slide: {{ instance.slide }},
                timer: {% if instance.timer %}true{% else %}false{% endif %},
                autoplay: {% if instance.autoplay %}true{% else %}false{% endif %},
                loop: {% if instance.loop %}true{% else %}false{% endif %},
                delay: {{ instance.delay }},
                transitionDuration: {{ instance.transitionDuration }},
                slides: [
                    {% for plugin in instance.child_plugin_instances %}
                        {src: "{% render_plugin plugin %}"},
                    {% endfor %}
                ]
            });
        });
    </script>
{% endaddtoblock %}

{% addtoblock "js" %}
    <script src="{{ app_settings.JS_URL }}"></script>
{% endaddtoblock %}

{% addtoblock "css" %}
    <link rel="stylesheet" type="text/css" href="{{ app_settings.CSS_URL }}">
{% endaddtoblock %}